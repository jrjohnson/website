---
import { getCollection } from 'astro:content';
import ContentLayout from '../layouts/ContentLayout.astro';
import FaIcon from '../components/FaIcon.astro';

const talks = (await getCollection('talk')).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
const description = "Abstracts and slides for talks I've given";
---
<style>
  ul {
    list-style-type: none;
    margin: 0;
    padding: 0.5rem;
  }

  li {
    margin-bottom: 0.25rem;
  }

  p {
    margin-bottom: 0.25rem;
  }
</style>
<ContentLayout title="Talks" description={description}>
  <h2>Talks</h2>
  <p>{description}</p>
  <ul>
    {talks.map(talk => (
      <li>
        <FaIcon iconName='microphone-stand' prefix='fad' />
        <a href={`/talks/${talk.id}`}>
          {talk.data.title}
        </a> [{talk.data.date.toLocaleDateString('en-us', {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          })}]
      </li>
    ))}
  </ul>
</ContentLayout>
